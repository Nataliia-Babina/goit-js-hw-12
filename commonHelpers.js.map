{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '44448499-e9e25ac25e8b747c6a75d5b6f'; \n\nexport async function findImages(query) {\n    const url = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    try {\n        const response = await fetch(url);\n        const data = await response.json();\n        return data.hits;\n    } catch (error) {\n        console.error('Error:', error);\n        throw error;\n    }\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet lightbox;\n\nexport function displayImg(images) {\n    const gallery = document.getElementById('gallery');\n    gallery.innerHTML = images.map(image => `\n        <li class=\"gallery-item\">\n            <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n            </a>\n            <div class=\"info\">\n                <p><strong>Likes:</strong> ${image.likes}</p>\n                <p><strong>Views:</strong> ${image.views}</p>\n                <p><strong>Comments:</strong> ${image.comments}</p>\n                <p><strong>Downloads:</strong> ${image.downloads}</p>\n            </div>\n        </li>\n    `).join('');\n\n    if (lightbox) {\n        lightbox.refresh();\n    } else {\n        lightbox = new SimpleLightbox('.gallery a', {\n            captionsData: 'alt',\n            captionDelay: 250\n        });\n    }\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { findImages } from './js/pixabay-api';\n import { displayImg } from './js/render-functions';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    const searchForm = document.getElementById('name-form');\n    const searchInput = document.getElementById('name-input');\n    const loader = document.getElementById('loader');\n\n    searchForm.addEventListener('submit', async event => {\n        event.preventDefault();\n        const query = searchInput.value.trim();\n\n        if (query === '') {\n            iziToast.error({\n                title: 'Error',\n                message: 'Ð¡annot send a request if the search field is empty'\n            });\n            return;\n        }\n\n        loader.style.display = 'block'; \n\n        try {\n            const images = await findImages(query);\n            if (images.length === 0) {\n                iziToast.error({\n                    title: 'Sorry',\n                    message: 'There are no images for your search!'\n                });\n            } else {\n                displayImg(images);\n            }\n        } catch (error) {\n            iziToast.error({\n                title: 'Error',\n                message: 'Failed to fetch images!'\n            });\n        } finally {\n            loader.style.display = 'none'; \n        }\n    });\n});"],"names":["API_KEY","findImages","query","url","error","lightbox","displayImg","images","gallery","image","SimpleLightbox","searchForm","searchInput","loader","event","iziToast"],"mappings":"wvBAAA,MAAMA,EAAU,qCAET,eAAeC,EAAWC,EAAO,CACpC,MAAMC,EAAM,gCAAgCH,CAAO,MAAM,mBAAmBE,CAAK,CAAC,2DAElF,GAAI,CAGA,OADa,MADI,MAAM,MAAMC,CAAG,GACJ,QAChB,IACf,OAAQC,EAAO,CACZ,cAAQ,MAAM,SAAUA,CAAK,EACvBA,CACT,CACL,CCVA,IAAIC,EAEG,SAASC,EAAWC,EAAQ,CAC/B,MAAMC,EAAU,SAAS,eAAe,SAAS,EACjDA,EAAQ,UAAYD,EAAO,IAAIE,GAAS;AAAA;AAAA,uBAErBA,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,6CAGrBA,EAAM,KAAK;AAAA,6CACXA,EAAM,KAAK;AAAA,gDACRA,EAAM,QAAQ;AAAA,iDACbA,EAAM,SAAS;AAAA;AAAA;AAAA,KAG3D,EAAE,KAAK,EAAE,EAENJ,EACAA,EAAS,QAAO,EAEhBA,EAAW,IAAIK,EAAe,aAAc,CACxC,aAAc,MACd,aAAc,GAC1B,CAAS,CAET,CCxBA,SAAS,iBAAiB,mBAAoB,IAAM,CAChD,MAAMC,EAAa,SAAS,eAAe,WAAW,EAChDC,EAAc,SAAS,eAAe,YAAY,EAClDC,EAAS,SAAS,eAAe,QAAQ,EAE/CF,EAAW,iBAAiB,SAAU,MAAMG,GAAS,CACjDA,EAAM,eAAc,EACpB,MAAMZ,EAAQU,EAAY,MAAM,KAAI,EAEpC,GAAIV,IAAU,GAAI,CACda,EAAS,MAAM,CACX,MAAO,QACP,QAAS,oDACzB,CAAa,EACD,MACH,CAEDF,EAAO,MAAM,QAAU,QAEvB,GAAI,CACA,MAAMN,EAAS,MAAMN,EAAWC,CAAK,EACjCK,EAAO,SAAW,EAClBQ,EAAS,MAAM,CACX,MAAO,QACP,QAAS,sCAC7B,CAAiB,EAEDT,EAAWC,CAAM,CAExB,MAAe,CACZQ,EAAS,MAAM,CACX,MAAO,QACP,QAAS,yBACzB,CAAa,CACb,QAAkB,CACNF,EAAO,MAAM,QAAU,MAC1B,CACT,CAAK,CACL,CAAC"}